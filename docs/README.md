# 숫자 야구 ⚾

사용자가 컴퓨터가 랜덤으로 생성하는 세자리수를 맞추는 게임이다.

## 기능 목록

1. 게임 첫 시작 인사말을 출력한다.
2. 컨트롤러는 randomArrayGenerator를 사용해서 난수의 배열을 생성하고 BaseballGame 객체에 전달하면서 BaseballGame의 생성자를 호출한다.

```javascript
const computer = [];

while (computer.length < 3) {
  const number = MissionUtils.Random.pickNumberInRange(1, 9);

  if (!computer.includes(number)) {
    computer.push(number);
  }
}
```

3. 사용자의 입력을 받는다. `MVC 패턴의 적용을 위해 InputView가 담당하고 Controller가 InputView를 호출할 것이다.`

4. 사용자의 입력이 중복이 없는지 확인한다.
5. 컴퓨터의 난수와 사용자의 입력을 비교해서 볼과 스트라이크의 수를 센다.
6. 볼과 스트라이크의 수를 출력한다.
7. 사용자가 정답을 맞췄다면 게임을 종료한다.
8. 종료 후 재시작을 할 것인지 완전히 종료할 것인지 묻는다.

## 예외처리

1. 게임 진행중에 각 자리수의 중복이 없는 세자리수를 입력하지 않은 경우
2. 게임을 재시작할지 종료할지 물을때 1이나 2가 아닌 다른 수를 입력한 경우
3. 사용자의 입력 중 숫자 0은 올 수 없다 9를 초과하는 것은 자릿수로 판단할 수 있지만 0은 따로 예외처리를 해야한다.

# Refactoring

기능은 모두 완성이 되었기 때문에 코드 컨벤션을 지켰는지 확인하는 것과 각 기능을 기능 자체의 의미를 더 잘 표현할 수 있도록 User 클래스, Computer 클래스가 각자의 기능을 가지게 한다.
Computer 객체와 User 객체는 프로퍼티를 가지기 위해 만들어진 경향이 강하다. 그렇기 때문에 반드시 필요하지는 않고 구조의 변경으로 삭제가 되었다.

프리코스 종료 후 코드를 다시 보면서 든 생각은 지역 변수를 사용해서 값을 계산한 후 반환하는 형식보다 프로퍼티에 저장하는 방식이 더 안정적이고 좋은 방법이라고 생각을 했지만 과정 종료 후 여러 피드백을 거치면서 그것이 오히려 더 좋지 않다는 것을 알게 되었다. 프로퍼티로 가지게 하려고 했던 이유는 객체를 만들어내기 위한 것이었던 것 같다. 이 부분을 다시 수정하고 더 좋은 방법이 1차적으로 떠오를 수 있다는 것을 머리속에 넣어두고 다시 진행하자.

그리고 완성된 기능 함수 내의 지역 변수도 각 클래스의 프로퍼티로 가질 수 있게 수정해본다.  
더 나아가서 디자인 패턴을 적용해본다.

# Test

테스트 코드를 작성해서 테스트를 진행한다.  
미션에서 사용되는 API를 통한 출력을 확인하기 위해서 ApplicationTest.js에 getLogSpy 함수를 사용하기로 했다.

1. 인삿말 출력에 대한 테스트를 진행한다.
2. 컴퓨터가 가지는 난수 배열이 중복없이 잘 만들어졌는지 확인한다.
3. 게임의 진행과 재시작과 종료와 예외처리에 대한 테스트를 진행한다.

프로그램 전체적인 흐름을 테스트하는 테스트 코드를 연습해보자.
